<template>
	<div class="container" id="messanger-all">
	<div class="row">
		<div class="col-lg-8 offset-lg-2 col-md-12" id="all-bck">
			<div class="col-lg-12 text-center">
				<br>
				<h3>Messanger</h3>
				<hr>
			</div>
			<div class="col-lg-12 all-bck-2" style="height: 300px; overflow: auto;">
				<user_chat v-for="user in users" :auth_user_id="auth_user_id" :key="user.id" :user="user"></user_chat>
			</div>
		</div>
	</div>
		<!-- FOOTER -->

		<div class="row text-center" id="mag-footer">
			<div class="col-12">
				<hr>
				<h6><img src="http://icons.iconarchive.com/icons/martz90/circle/512/camera-icon.png" width="20px" height="20px" style="margin-top: -5px;"> INSTAPRO IS A TRADEMARK OF ALEKSANDAR POTIC. COPYRIGHT Â© ALEKSANDAR POTIC 2018.</h6>
			</div>
		</div>

		<!-- /FOOTER -->
</div>
</template>

<script>
    import user_chat from './UserChat';
	export default {

	    components: {user_chat},
	    data() {
	        return {
	            users:[],
                search: ''
			}
		},

		created() {
	        this.fetchUsers();
		},
		props: {
            auth_user_id: Number
		},

		methods: {
	        fetchUsers() {
	            fetch('api/users')
					.then(response => response.json())
                    .then(response => {
                        this.users = response.data;
                    })
			},


		}
	}
</script>